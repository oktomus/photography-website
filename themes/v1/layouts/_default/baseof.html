<!doctype html>
<html lang="fr">
  <head>
    <title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }}{{ end }}</title>
    <meta charset="utf-8" />
    {{ hugo.Generator }}
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="{{ .Site.Params.author }}" />
    <meta name="description" content="{{ if .IsHome }}{{ .Site.Params.description }}{{ else }}{{ .Description }}{{ end }}" />

    {{ $options := (dict "targetPath" "style.css" "outputStyle" "compressed" "enableSourceMap" true "includePaths" (slice "node_modules/myscss")) }}
    {{ $style := resources.Get "css/main.scss" | resources.ExecuteAsTemplate "css/main.scss" . | resources.ToCSS $options | resources.Fingerprint -}}
    <link rel="stylesheet" href="{{ $style.Permalink }}" />

    {{ $options := (dict "targetPath" "rubik.css" "outputStyle" "compressed" "enableSourceMap" true "includePaths" (slice "node_modules/myscss")) }}
    {{ $style := resources.Get "css/rubik.scss" | resources.ExecuteAsTemplate "css/rubik.scss" . | resources.ToCSS $options | resources.Fingerprint -}}
    <link rel="stylesheet" href="{{ $style.Permalink }}" />

    {{ $options := (dict "targetPath" "karla.css" "outputStyle" "compressed" "enableSourceMap" true "includePaths" (slice "node_modules/myscss")) }}
    {{ $style := resources.Get "css/karla.scss" | resources.ExecuteAsTemplate "css/karla.scss" . | resources.ToCSS $options | resources.Fingerprint -}}
    <link rel="stylesheet" href="{{ $style.Permalink }}" />

    {{ template "_internal/twitter_cards.html" . }}
    {{ template "_internal/opengraph.html" . }}
  </head>

  <body>
    <header class="app-header">
      <div class="container">
        <nav class="navbar no-padding">
          <div class="title">
            <a href="{{ .Site.BaseURL }}">{{ .Site.Params.author }}</a>
          </div>
          <div class="menu stick-to-end">
            <ul class="menu-content">
              <li class="menu-item"><a href="/">Portfolio</a></li>
              <li class="menu-item"><a href="/">Boutique</a></li>
              <li class="menu-item"><a href="/">À Propos</a></li>
              <li class="menu-item"><a href="/">Contact</a></li>
            </ul>
          </div>
        </nav>
      </div>
    </header>

    <main class="app-container">
      <div class="container">
        <div class="flex-grid portfolio">
          <div class="col-3 item">
            <img class="thumbnail" src="/portfolio/tree.jpg"/>
          </div>
          <div class="col-3 item">
            <img class="thumbnail" src="/portfolio/tree.jpg"/>
          </div>
          <div class="col-3 item">
            <img class="thumbnail" src="/portfolio/tree.jpg"/>
          </div>
        </div>
        <div class="flex-grid portfolio">
          <div class="col-3 item">
            <img class="thumbnail" src="/portfolio/tree.jpg"/>
          </div>
          <div class="col-3 item">
            <img class="thumbnail" src="/portfolio/tree.jpg"/>
          </div>
          <div class="col-3 item">
            <img class="thumbnail" src="/portfolio/tree.jpg"/>
          </div>
        </div>
      </div>
    </main>
    
    <footer class="app-footer">
      <div class="container">
        <p class="text-center"><small>© 2020 Kevin Masson</small></p>

        <div class="text-center social-links">
          {{ range .Site.Params.social }}
            <a target="_blank" href="{{ .url }}" rel="noreferrer noopener" title="{{ .title }}">{{ partial "icon.html" (dict "ctx" $ "name" .name ) }}</a>
          {{ end }}
        </div>
      </div>
    </footer>

    <!-- Matomo -->
    <!-- Anonymouse and open tracking. Data is stored in France via pulseheberg.-->
    <script type="text/javascript">
      var _paq = window._paq || [];
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="//matomo.oktomus.com/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '1']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <!-- End Matomo Code -->
  </body>
</html>
